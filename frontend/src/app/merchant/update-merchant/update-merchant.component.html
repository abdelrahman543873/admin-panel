<div class="modal-content">
  <div class="modal-header">
    <h3 class="modal-title">update</h3>
    <button
      type="button"
      class="close"
      data-dismiss="modal"
      aria-label="Close"
      (click)="activeModal.dismiss('Cross click')"
    >
      <span aria-hidden="true">Ã—</span>
    </button>
  </div>
  <div class="modal-body">
    <form #updateMerchant="ngForm" (ngSubmit)="submit(updateMerchant)">
      <div class="row">
        <h5>Merchant Information</h5>
        <div class="form-group col-6">
          <label>Merchant Name Ar</label>
          <input
            type="text"
            [ngClass]="
              arNameRef.errors &&
              (arNameRef.dirty || arNameRef.touched || updateMerchant.submitted)
                ? 'form-control is-invalid'
                : 'form-control'
            "
            name="arName"
            [ngModel]="arName"
            required
            #arNameRef="ngModel"
          />
          <span class="error invalid-feedback"
            >Please enter a valid arabic merchant name</span
          >
        </div>
        <div class="form-group col-6">
          <label>Merchant Name En</label>
          <input
            type="text"
            [ngClass]="
              enNameRef.errors &&
              (enNameRef.dirty || enNameRef.touched || updateMerchant.submitted)
                ? 'form-control is-invalid'
                : 'form-control'
            "
            name="enName"
            [ngModel]="enName"
            required
            #enNameRef="ngModel"
          />
          <span class="error invalid-feedback"
            >Please enter a valid english merchant name</span
          >
        </div>
        <div class="form-group col-6">
          <label>Merchant Slogan En</label>
          <input
            type="text"
            [ngClass]="
              enDescriptionRef.errors &&
              (enDescriptionRef.dirty ||
                enDescriptionRef.touched ||
                updateMerchant.submitted)
                ? 'form-control is-invalid'
                : 'form-control'
            "
            name="enDescription"
            required
            [ngModel]="enDescription"
            #enDescriptionRef="ngModel"
          />
          <span class="error invalid-feedback"
            >Please enter a valid english merchant slogan</span
          >
        </div>
        <div class="form-group col-6">
          <label>Merchant Slogan Ar</label>
          <input
            type="text"
            [ngClass]="
              arDescriptionRef.errors &&
              (arDescriptionRef.dirty ||
                arDescriptionRef.touched ||
                updateMerchant.submitted)
                ? 'form-control is-invalid'
                : 'form-control'
            "
            name="arDescription"
            [ngModel]="arDescription"
            #arDescriptionRef="ngModel"
            required
          />
          <span class="error invalid-feedback"
            >Please enter a valid arabic merchant slogan</span
          >
        </div>
        <div class="form-group col-6">
          <div class="form-group">
            <label>Merchant Category</label>
            <select
              [ngClass]="
                categoryRef.errors &&
                (categoryRef.dirty ||
                  categoryRef.touched ||
                  updateMerchant.submitted)
                  ? 'custom-select is-invalid'
                  : 'custom-select'
              "
              name="category"
              required
              [ngModel]="category?.id"
              #categoryRef="ngModel"
            >
              <option *ngFor="let category of categories" [value]="category.id">
                {{ category.enTitle }}
              </option>
            </select>
            <span class="error invalid-feedback"
              >Please select a valid merchant category</span
            >
          </div>
        </div>
        <div class="form-group col-6">
          <label>Merchant Logo</label>
          <div class="input-group">
            <div class="custom-file">
              <input
                type="file"
                name="file"
                class="custom-file-input"
                (change)="selectFile($event)"
                ngModel
              />
              <label class="custom-file-label">Choose file</label>
            </div>
            <div class="input-group-append">
              <span class="input-group-text">Upload</span>
            </div>
            <div class="input-group">
              <img [src]="imageUrl" *ngIf="imageUrl" />
            </div>
          </div>
        </div>
        <div class="form-group col-6">
          <label>Account Email</label>
          <input
            type="text"
            name="email"
            email
            [ngModel]="email"
            [ngClass]="
              emailRef.errors &&
              (emailRef.dirty || emailRef.touched || updateMerchant.submitted)
                ? 'form-control is-invalid'
                : 'form-control'
            "
            required
            #emailRef="ngModel"
          />
          <span class="error invalid-feedback"
            >Please select a valid merchant email</span
          >
        </div>
        <div class="form-group col-6">
          <label>Account Password</label>
          <input
            type="password"
            class="form-control"
            name="password"
            placeholder="Enter Merchant password"
            ngModel
          />
        </div>
        <div class="form-group col-6">
          <label>Phone Number</label>
          <input
            type="text"
            name="phoneNumber"
            [ngModel]="phoneNumber"
            [ngClass]="
              phoneNumberRef.errors &&
              (phoneNumberRef.dirty ||
                phoneNumberRef.touched ||
                updateMerchant.submitted)
                ? 'form-control is-invalid'
                : 'form-control'
            "
            required
            ngModel
            #phoneNumberRef="ngModel"
          />
          <span class="error invalid-feedback"
            >Please select a valid merchant phone number</span
          >
        </div>
      </div>
      <div class="row">
        <h5>Merchant Integration</h5>
        <div class="form-group col-6">
          <div class="form-group">
            <label>Pos</label>
            <select
              class="custom-select"
              [ngClass]="
                posRef.errors &&
                (posRef.dirty || posRef.touched || updateMerchant.submitted)
                  ? 'custom-select is-invalid'
                  : 'custom-select'
              "
              name="pos"
              [ngModel]="pos?.id"
              #posRef="ngModel"
              required
            >
              <option *ngFor="let pos of poses" [value]="pos.id">
                {{ pos.title }}
              </option>
            </select>
            <span class="error invalid-feedback"
              >Please select a valid POS</span
            >
          </div>
        </div>
        <div class="form-group col-6" *ngIf="pos?.title === 'Marn'">
          <label>Brand Key</label>
          <input
            type="text"
            class="form-control"
            name="brandKey"
            placeholder="Enter Merchant Brand Key "
            [ngModel]="brandKey"
          />
        </div>
        <div class="form-group col-6" *ngIf="pos?.title === 'Ratm'">
          <label>Integration Id</label>
          <button type="button" class="form-control">{{ id }}</button>
        </div>
        <div class="form-group col-6" *ngIf="pos?.title === 'Ratm'">
          <label>Access Token</label>
          <input
            type="text"
            class="form-control"
            name="accessToken"
            placeholder="Enter Merchant Auth Token"
            [ngModel]="accessToken"
          />
        </div>
      </div>
      <div class="modal-footer">
        <button type="submit" class="btn btn-primary col-3">Save</button>
        <button
          type="button"
          class="btn btn-default col-3"
          data-dismiss="modal"
          (click)="activeModal.dismiss('Cross click')"
        >
          Close
        </button>
      </div>
    </form>
  </div>
</div>
<app-toasts aria-live="polite" aria-atomic="true"></app-toasts>
